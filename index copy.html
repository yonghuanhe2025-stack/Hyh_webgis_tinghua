<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>主控界面</title>
  <!-- 参考下方“风格变量”，仅更换 UI 视觉，不改变原有功能与结构 -->
  <style>
    :root{
      /* 取自目标风格的配色与圆角、阴影（可按需微调） */
      --bg:#0b1221;           /* 背景深蓝 */
      --panel:#121a2b;        /* 面板底色 */
      --panel-2:#0f1626;      /* 次级底色 */
      --text:#e7eefc;         /* 主文字 */
      --muted:#8aa0c6;        /* 次文字 */
      --accent:#38bdf8;       /* 主题蓝 */
      --ok:#22c55e;           /* 成功 */
      --warn:#f59e0b;         /* 警告 */
      --danger:#ef4444;       /* 危险 */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 14px;
      --border: 1px solid #1f2b45;
    }

    *{box-sizing:border-box}
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Microsoft YaHei UI", sans-serif;
    }

    /* ===== 顶部标题条 / 控件区（新增 UI，不改变功能） ===== */
    .topbar{position:fixed;left:18px;right:18px;top:14px;display:flex;align-items:center;gap:12px;z-index:10}
    .badge{background:linear-gradient(135deg,#1e293b,#0b1221);padding:10px 16px;border-radius:999px;border:var(--border);box-shadow:var(--shadow)}
    .badge h1{margin:0;font-size:16px;letter-spacing:.5px}
    .pill{display:inline-flex;align-items:center;gap:8px;background:#0e1628;border:1px solid #243149;border-radius:999px;padding:6px 10px;color:#cfe0ff;font-size:12px}
    .btn{cursor:pointer;user-select:none;background:#0e1628;border:1px solid #26334d;border-radius:10px;padding:8px 12px;color:#dbe7ff;transition:transform .06s ease,background .2s}
    .btn:hover{background:#13203a}
    .btn:active{transform:scale(.98)}

    /* ===== 主显示区 / 子窗口区：沿用原结构与交互 ===== */
    #layout{position:fixed;inset:74px 18px 18px 18px;display:flex;flex-direction:column;gap:12px}

    #mainDisplay {
      height: 74%;
      width: 100%;
      background: var(--panel);
      border: var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
      padding: 10px; /* 内边距形成“卡片内镶”效果 */
    }

    .content-panel {
      width: 100%;
      height: 100%;
      display: none;
      background: var(--panel-2);
      border-radius: calc(var(--radius) - 6px);
      overflow: hidden;
      border: 1px solid #1e2a43;
    }

    .content-panel.active { display: block; }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background:#000; /* 保证加载前有深色底 */
    }

    #subDisplays {
      height: 26%;
      display: flex;
      gap: 10px;
      background: transparent; /* 外层透明，由子卡片自身成“瓷砖”效果 */
    }

    .sub-window {
      flex: 1;
      background: var(--panel);
      border-radius: var(--radius);
      overflow: hidden;
      cursor: pointer;
      border: var(--border);
      box-shadow: var(--shadow);
      position: relative;
    }

    .sub-window iframe {
      width: 100%;
      height: 100%;
      pointer-events: none; /* 保留双击切换，不与 iframe 内部交互冲突 */
    }

    /* 子窗口标题角标（可选） */
    .tag{
      position:absolute;left:10px;top:10px;font-size:12px;
      background:#0e1628;border:1px solid #243149;padding:4px 8px;border-radius:999px;color:#cfe0ff
    }

    /* 自适应（小屏时上下堆叠） */
    @media (max-width: 980px){
      #mainDisplay{height: 64%}
      #subDisplays{height: 36%}
    }
  </style>
</head>
<body>
  <!-- ===== 顶部 UI，仅用于美化与便捷入口（不改变原逻辑） ===== -->
  <div class="topbar">
    <div class="badge"><h1>路径规划通过性验证系统</h1></div>
    <span class="pill"></span>
    <button class="btn" onclick="switchPanel('panel1')">驾驶视角</button>
    <button class="btn" onclick="switchPanel('panel2')">地图加载</button>
    <button class="btn" onclick="switchPanel('panel3')">通行区域</button>
    <button class="btn" onclick="switchPanel('panel4')">路径规划</button>
    <button class="btn" onclick="switchPanel('panel5')">通行验证 </button>
    <button class="btn" onclick="switchPanel('panel6')">数据分析</button>
  </div>

  <!-- ===== 主体布局：完全沿用原有 DOM 结构与 iframe 指向 ===== -->
  <div id="layout">
    <!-- 主显示区（保持原始 panel1~6 的结构与类名/行为） -->
    <div id="mainDisplay">
      <div id="panel1" class="content-panel active"><iframe src="camera.html" title="camera"></iframe></div>

      <!-- 改为相对路径 map/googlemaps.html -->
      <div id="panel2" class="content-panel"><iframe src="map/googlemaps.html" title="map"></iframe></div>

      <div id="panel3" class="content-panel"><iframe src="tif_viewer.html" title="tif"></iframe></div>
      <div id="panel4" class="content-panel"><iframe src="panel4.html" title="panel4"></iframe></div>
      <div id="panel5" class="content-panel"><iframe src="panel5.html" title="panel5"></iframe></div>
      <div id="panel6" class="content-panel"><iframe src="panel6.html" title="panel6"></iframe></div>
    </div>

    <!-- 子窗口区域（双击切换主显示） -->
    <div id="subDisplays">
      <div class="sub-window" ondblclick="switchPanel('panel1')">
        <span class="tag">驾驶视角</span>
        <iframe src="camera.html" title="camera-mini"></iframe>
      </div>

      <!-- 子窗口也同步改为 map/googlemaps.html -->
      <div class="sub-window" ondblclick="switchPanel('panel2')">
        <span class="tag">地图加载</span>
        <iframe src="map/googlemaps.html" title="map-mini"></iframe>
      </div>

      <div class="sub-window" ondblclick="switchPanel('panel3')">
        <span class="tag">路径规划</span>
        <iframe src="" title="tif-mini"></iframe>
      </div>
      <div class="sub-window" ondblclick="switchPanel('panel4')">
        <span class="tag">通行区域</span>
        <iframe src="" title="p4-mini"></iframe>
      </div>
      <div class="sub-window" ondblclick="switchPanel('panel5')">
        <span class="tag">通行验证</span>
        <iframe src="" title="p5-mini"></iframe>
      </div>
      <div class="sub-window" ondblclick="switchPanel('panel6')">
        <span class="tag">数据分析</span>
        <iframe src="" title="p6-mini"></iframe>
      </div>
    </div>
  </div>

  <script>
    // ===== 完全保留原有切换逻辑 =====
    function switchPanel(id) {
      document.querySelectorAll('.content-panel').forEach(p => p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // （可选）键盘数字键 1~6 快速切换，纯增强，不影响原逻辑
    window.addEventListener('keydown', (e)=>{
      if(e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      const k = e.key;
      if(k>='1' && k<='6') switchPanel('panel'+k);
    });
  </script>
</body>
</html>
